<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>Kamzek Weather</title>
  <style>
    body {
      font-family: 'Lucida Grande', sans-serif;
      font-size: 12px;
    }
  </style>
</head>

<body>
  <h1>Kamzek Weather</h1>
  <p>
    <a href="./data.html">Data</a>
    路
    <a href="./layers.html">Layers</a>
    路
    <a href="./examples.html">Examples</a>
    路
    <a href="./roadmap.html">Roadmap</a>
    路
    <a href="./contact.html">Contact</a>
  </p>
  <h2>Layers</h2>
  <p>Layers are available as deck.gl plugins. They can be rendered either with standalone deck.gl, or integrated with any supported basemap library. See <a href="./examples.html">Examples</a>.</p>
  <h3>Raster layer</h3>
  <p>Variables rendered as an overlay, colored by a colormap.</p>
  <p>Scalar variables are rendered as-is. Vector variables need to be converted to their length.</p>
  <pre>
import { COORDINATE_SYSTEM, Deck } from '@deck.gl/core';
import { ClipExtension } from '@deck.gl/extensions';
import GL from '@luma.gl/constants';

// build latest https://github.com/kylebarron/deck.gl-raster
import { RasterLayer, linearRescale, vectorLength, colormap, maskImage } from './deck.gl-raster';

const rasterUrl = ...; // string
const colormapUrl = ...; // string
const vector = ...; // boolean

const deckgl = new Deck({
  layers: [
    new RasterLayer({
      id: 'raster',
      images: {
        imageRgba: {
          data: rasterUrl,
          format: GL.RGB,
          parameters: {
            [GL.TEXTURE_MIN_FILTER]: GL.LINEAR,
            [GL.TEXTURE_MAG_FILTER]: GL.LINEAR,
          },
        },
        imageColormap: {
          data: colormapUrl,
          format: GL.RGBA,
          parameters: {
            [GL.TEXTURE_MIN_FILTER]: GL.LINEAR,
            [GL.TEXTURE_MAG_FILTER]: GL.LINEAR,
          },
        },
        imageMask: {
          data: rasterUrl,
          format: GL.ALPHA,
          parameters: {
            [GL.TEXTURE_MIN_FILTER]: GL.LINEAR,
            [GL.TEXTURE_MAG_FILTER]: GL.LINEAR,
          },
        },
      },
      modules: [
        rgbaImage,
        ...(vector ? [
          linearRescale,
          vectorLength,
        ] : []),
        colormap,
        maskImage,
      ],
      moduleProps: {
        linearRescaleScaler: 2,
        linearRescaleOffset: -1,
        colormapScaler: 1,
        colormapOffset: 0,
      },
      opacity: ..., // number
      bounds: [-180, -90, 180, 90],
      _imageCoordinateSystem: COORDINATE_SYSTEM.LNGLAT,
      extensions: [new ClipExtension()],
      clipBounds: [-360, -85.051129, 360, 85.051129],
    }),
  ],
});
  </pre>
  <h3>Particle layer</h3>
  <p>Vector variable rendered as animated particle simulation layer.</p>
  <pre>
import { Deck } from '@deck.gl/core';
import { ParticleLayer } from 'deck.gl-particle';

const particleUrl = ...; // string

const deckgl = new Deck({
  layers: [
    new ParticleLayer({
      id: 'particle',
      image: particleUrl,
      numParticles: ..., // number
      maxAge: ..., // number
      speedFactor: ..., // number
      color: ..., // [number, number, number]
      width: ..., // number
      opacity: ..., // number
    });
  ],
  _animate: true,
});
  </pre>

  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-SCJJ11QS77"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-SCJJ11QS77');
  </script>
</body>

</html>